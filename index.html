<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>example</title>
    <style>
      #content { width:960px; margin:auto; } 
      table, th, td { border-collapse: collapse; border:2px solid #000; padding:5px; text-align:left; vertical-align:top; } 
    </style>
  </head>
  <body>

    <section id="content">
		<h1>A11Y Grid</h1> 
		<section id="tableContainer">
		</section>
    </section>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" ></script>

	<script>

    	(function createTable(){

			let url = './getTableJSON.php';
			let jsonObjectsArray = [];
			let htmlString = "<table>";

			$.ajax({
			  type: 'GET',
			  url: url,
			  dataType: 'json',
			  success: function(data) { jsonObjectsArray = data;},
			  async: false
			});

			//headers
			htmlString += '<tr>';
			for (let key in jsonObjectsArray[0]) {
				htmlString += '<th>';
				htmlString += key; 
				htmlString += '</th>';
			}
			htmlString += '</tr>';

			//Rows
			for(let i = 0; i < jsonObjectsArray.length; i++) {
				htmlString += '<tr>';		
				for (let key in jsonObjectsArray[i]) {
					htmlString += '<td>';		
					htmlString += jsonObjectsArray[i][key];		
					htmlString += '</td>';		
				}		
				htmlString += '</tr>';		
			}

			htmlString += "</table>";
			$('#tableContainer').html(htmlString);

		})() 

	</script>

  </body>
</html>

